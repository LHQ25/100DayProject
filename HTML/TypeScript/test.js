var ECHFKit={contacts:{showContacts:function(chooseContact,multiple,chooseUsers,isNeedSearch,title,onCallBack){var params={'chooseContact':chooseContact,'multiple':multiple,'chooseUsers':chooseUsers,'isNeedSearch':isNeedSearch,'title':title};JKEventHandler.callNativeFunction('getInfoFromNative',params,onCallBack)}},tools:{faceRecognition:function(OaAccount,onCallBack){var params={'OaAccount':OaAccount};JKEventHandler.callNativeFunction('getFaceRecognition',params,onCallBack)},showFile:function(fileUrl,fileName,fileId){var params={'fileUrl':fileUrl,'fileName':fileName,'fileId':fileId,'allowedShare':allowedShare};JKEventHandler.callNativeFunction('getShowFile',params)},signFile:function(downloadUrl, uploadUrl, watermarker, fileName, info, appid){var params = {'downloadUrl':downloadUrl, 'uploadUrl':uploadUrl,'watermarker':watermarker,'fileName': fileName,'info':info,'appid':appid};JKEventHandler.callNativeFunction('getSignFile',params)},iPadTodoDetail:function (toDetail,appid){var params = {'toDetail':toDetail,'appid':appid    };JKEventHandler.callNativeFunction('iPadTodoDetail',params,null)},signAIPFile:function(downloadUrl, uploadUrl, watermarker, fileName, info, appid, fileStatus, ext){var params = {'downloadUrl':downloadUrl, 'uploadUrl':uploadUrl,'watermarker':watermarker,'fileName': fileName,'info':info,'appid':appid, 'fileStatus':fileStatus, 'ext':ext};JKEventHandler.callNativeFunction('getSignAIPFile',params)},signFileModel:function(){var params = {};JKEventHandler.callNativeFunction('getSignFileModel',params)},switchFileModel:function(currentModel){var params = {'currentModel':currentModel};JKEventHandler.callNativeFunction('switchSignFileModel',params)},signFile:function(downloadUrl, uploadUrl, watermarker, fileName, info){var params = {'downloadUrl':downloadUrl,'uploadUrl':uploadUrl,'watermarker':watermarker,'fileName': fileName,'info':info};JKEventHandler.callNativeFunction('getSignFile',params)},downloadFile:function(fileName,fileUrl,fileSize){var params={'fileName':fileUrl,'fileUrl':fileUrl,'fileSize':fileSize};JKEventHandler.callNativeFunction('downloadFile',params)},fileList:function(onCallBack){var params={};JKEventHandler.callNativeFunction('getFileList',params,onCallBack)},share:function(url,thumbURL,title,shareType,onCallBack){var params={'url':url,'thumbURL':thumbURL,'title':title,'shareType':shareType};JKEventHandler.callNativeFunction('getShare',params,onCallBack)},scan: function (onCallBack) {var funcName = 'scan';var params = {'funCName': funcName};JKEventHandler.callNativeFunction(funcName,params,onCallBack)},setNavigationBar:function(title,hide,viewTop,rBtnImg){var params={'title':title,'hide':hide,'viewTop':viewTop,'rBtnImg':rBtnImg};JKEventHandler.callNativeFunction('setNavigationBar',params,null)};exitApp:function(data, url){var params={'data': data,'url': url};JKEventHandler.callNativeFunction('exitApp',params)}, openApp:function(asappId, url){var params = {'asappId':asappId,'url':url}; JKEventHandler.callNativeFunction('openApp', params)}}},readBeijiaDevice: function(type, cardType, callback) {var funcName = 'readBeijiaDevice';var params = {'funCName': funcName,'type': type,'cardType': cardType};JKEventHandler.callNativeFunction(funcName, params, callback);},getGeoPosition: function(targetAccuracy, coordinate,callback) {var funcName = 'getGeoPosition';var params = {'funCName': funcName,'targetAccuracy': targetAccuracy,'coordinate': coordinate};JKEventHandler.callNativeFunction(funcName, params, callback);},showCamera: function(count,callback) {var funcName = 'showCamera';var params = {'funCName': funcName,'count': count};JKEventHandler.callNativeFunction(funcName, params, callback);},getDeviceInfo: function(callback) {var funcName = 'getDeviceInfo';var params = {'funCName': funcName};JKEventHandler.callNativeFunction(funcName, params, callback);},getNetworkStatus: function(callback) {var funcName = 'getNetworkStatus';var params = {'funCName': funcName};JKEventHandler.callNativeFunction(funcName, params, callback);},fileSave: function(fileName, fileContent, callback) {var funcName = 'fileSave';var params = {'funCName': funcName,'fileName': fileName,'fileContent': fileContent};JKEventHandler.callNativeFunction(funcName, params, callback);},fileDelete: function(fileName, callback) {var funcName = 'fileDelete';var params = {'funCName': funcName,'fileName': fileName};JKEventHandler.callNativeFunction(funcName, params, callback);},setDeviceRotation: function(rotation) {var params = {'rotation': rotation};JKEventHandler.callNativeFunction('setDeviceRotation', params)};barcodeScan:function(callBack){params={};JKEventHandler.callNativeFunction(onCallBack)} ,var JKEventHandler={callNativeFunction:function(functionString,params,callBack){var methodName=(functionString.replace(/function\s?/mi,'').split('('))[0];var callBackName=methodName+'CallBack';var message;if(!callBack){message={'methodName':methodName,'params':params};if(/((iPhone|iPad|iPod)/i.test(navigator.userAgent)==false){var jsonParams=JSON.stringify(params);window.webkit.actionFromJs(methodName,jsonParams);return}window.webkit.messageHandlers.JKEventHandler.postMessage(message)}else{message={'methodName':methodName,'params':params,'callBackName':callBackName};if(!Event._listeners[callBackName]){Event.addEvent(callBackName,function(data){callBack(data)})}if(/((iPhone|iPad|iPod)/i.test(navigator.userAgent)==false){var jsonParams=JSON.stringify(params);window.webkit.actionFromJs(methodName,jsonParams);return}window.webkit.messageHandlers.JKEventHandler.postMessage(message)}},callBack:function(callBackName,data){Event.fireEvent(callBackName,data)},removeAllCallBacks:function(data){Event._listeners={}}};var Event={_listeners:{},addEvent:function(type,fn){if(typeof this._listeners[type]==='undefined'){this._listeners[type]=[]}if(typeof fn==='function'){this._listeners[type].push(fn)}return this},fireEvent:function(type,param){var arrayEvent=this._listeners[type];if(arrayEvent instanceof Array){for(var i=0,length=arrayEvent.length;i<length;i+=1){if(typeof arrayEvent[i]==='function'){arrayEvent[i](param)}}}return this},removeEvent:function(type,fn){var arrayEvent=this._listeners[type];if(typeof type==='string'&&arrayEvent instanceof Array){if(typeof fn==='function'){for(var i=0,length=arrayEvent.length;i<length;i+=1){if(arrayEvent[i]===fn){this._listeners[type].splice(i,1);break}}}else{delete this._listeners[type]}}return this}};